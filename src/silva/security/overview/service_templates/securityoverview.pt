<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      metal:use-macro="context/@@standard_macros/page">

  <body>
    <div metal:fill-slot="body">

    <h1>Security overview</h1>

    <div class="message" tal:condition="python: not(view.entries)">
        No information available.
    </div>

    <form action="manage_main" method="get">
        <fieldset>
            <table>
                <tr>
                    <td><label for="path">Path</label></td>
                    <td><input type="text" name="path" /></td>
                    <td></td>
                </tr>
                <tr>
                    <td><label for="path">Roles</label></td>
                    <td><input type="text" name="roles" /></td>
                    <td></td>
                </tr>
                <tr>
                    <td><label for="path">User names</label></td>
                    <td><input type="text" name="usernames" /></td>
                    <td></td>
                </tr>
            </table>
            <div>
                <input type="submit" value="search" />
            </div>
        </fieldset>
    </form>

    <table tal:condition="view/entries">
        <tal:block tal:repeat="entry view/entries">
            <tal:block tal:repeat="data python: view.unpack_entry(entry)">
            <tr>
                <td tal:content="python: data['username']" />
                <td tal:content="python: data['role']" />
                <td tal:content="python: data['path']" />
            </tr>
            </tal:block>
        </tal:block>
    </table>

    </div>
  </body>
</html>
